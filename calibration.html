

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial: Calibrating Fetch &mdash; Fetch &amp; Freight Research Edition Indigo documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Fetch &amp; Freight Research Edition Indigo documentation" href="index.html"/>
        <link rel="next" title="Tutorial: Fetch Programming by Demonstration" href="fetch_pbd.html"/>
        <link rel="prev" title="Tutorial: Auto Docking" href="docking.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home">
        

          Fetch & Freight <br/> Research Edition

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#before-you-start">Before you Start</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="safety.html">Safety</a><ul>
<li class="toctree-l2"><a class="reference internal" href="safety.html#safety-overview">Safety Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="safety.html#design-features">Design Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="safety.html#general-usage-guidelines">General Usage Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="safety.html#warning-labels">Warning Labels</a><ul>
<li class="toctree-l3"><a class="reference internal" href="safety.html#pinch-point">Pinch Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="safety.html#electrical-shock">Electrical Shock</a></li>
<li class="toctree-l3"><a class="reference internal" href="safety.html#laser-beam">Laser Beam</a></li>
<li class="toctree-l3"><a class="reference internal" href="safety.html#read-the-manual">Read The Manual</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="in_the_box.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="in_the_box.html#what-s-in-box">What’s In Box</a><ul>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#fetch-and-freight">Fetch and Freight</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#toolkit">Toolkit</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#robot-power-supply">Robot Power Supply</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="in_the_box.html#running-fetch-and-freight">Running Fetch and Freight</a><ul>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#turning-on-fetch-and-freight">Turning on Fetch and Freight</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#logging-in">Logging In</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#connecting-a-monitor-optional">Connecting a Monitor (Optional)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#default-user-account">Default User Account</a></li>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#creating-user-accounts">Creating User Accounts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#tucking-fetch-s-arm">Tucking Fetch’s Arm</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#driving-fetch-and-freight-with-a-joystick">Driving Fetch and Freight with a Joystick</a><ul>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#moving-the-base-with-your-keyboard">Moving the Base with your Keyboard</a></li>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#software-runstop">Software Runstop</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#using-software-runstop">Using Software Runstop</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#enable-teleop-software-runstop">Enable Teleop Software Runstop</a><ul>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#re-pairing-robot-joystick-that-won-t-connect">Re-pairing Robot Joystick that Won’t Connect</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#visualizing-data">Visualizing Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#using-the-runtime-monitor">Using the Runtime Monitor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#putting-fetch-and-freight-away">Putting Fetch and Freight Away</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="robot_hardware.html">Robot Hardware Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#mechanism-terminology">Mechanism Terminology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#link">Link</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#frame">Frame</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#joint">Joint</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#fetch-home-pose">Fetch Home Pose</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#coordinate-system">Coordinate System</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#naming-conventions">Naming Conventions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#mechanical-overview">Mechanical Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#environmental">Environmental</a><ul>
<li class="toctree-l4"><a class="reference internal" href="robot_hardware.html#drive-surface">Drive Surface</a></li>
<li class="toctree-l4"><a class="reference internal" href="robot_hardware.html#incline-surface">Incline Surface</a></li>
<li class="toctree-l4"><a class="reference internal" href="robot_hardware.html#water">Water</a></li>
<li class="toctree-l4"><a class="reference internal" href="robot_hardware.html#temperature-and-humidity">Temperature and Humidity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#forces-and-torques">Forces and Torques</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#joint-limits-and-types">Joint Limits and Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#mount-points">Mount Points</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#gripper-modularity-interface">Gripper Modularity Interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#electrical-overview">Electrical Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#breakers">Breakers</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#power-disconnect-switch">Power Disconnect Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#runstop">Runstop</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#access-panel">Access Panel</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#motion-control">Motion Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#sensor-overview">Sensor Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#base-laser">Base Laser</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#imu">IMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#head-camera">Head Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#gripper-sensors">Gripper Sensors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="computer.html">Computer Overview and Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="computer.html#default-user-account">Default User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#creating-user-accounts">Creating User Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#networking">Networking</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#connecting-the-robot-to-a-wireless-network">Connecting the Robot to a Wireless Network</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#clock-synchronization">Clock Synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#upstart-services">Upstart Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#log-files">Log Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#speakers-and-audio">Speakers and Audio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="care_and_feeding.html">Care And Feeding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#charging">Charging</a></li>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#batteries">Batteries</a></li>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#updating-your-robot">Updating Your Robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#re-setting-up-apt-get-sources">Re-Setting up apt-get Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#cleaning-your-robot">Cleaning Your Robot</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Tutorial: Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#visualizing-with-rviz">Visualizing with RVIZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#using-the-runtime-monitor">Using the Runtime Monitor</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="gazebo.html">Tutorial: Gazebo Simulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="gazebo.html#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="gazebo.html#starting-the-simulator">Starting the Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="gazebo.html#simulating-a-freight">Simulating a Freight</a></li>
<li class="toctree-l2"><a class="reference internal" href="gazebo.html#visualizing-with-rviz">Visualizing with RVIZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="gazebo.html#running-the-mobile-manipulation-demo">Running the Mobile Manipulation Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="gazebo.html#launch-it-on-rosds">Launch it on ROSDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="gazebo.html#simulation-vs-real-robots">Simulation vs. Real Robots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="teleop.html">Tutorial: Robot Teleop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#using-the-robot-joystick">Using the Robot Joystick</a></li>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#moving-the-base-with-your-keyboard">Moving the Base with your Keyboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#software-runstop">Software Runstop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="teleop.html#using-software-runstop">Using Software Runstop</a></li>
<li class="toctree-l3"><a class="reference internal" href="teleop.html#enable-teleop-software-runstop">Enable Teleop Software Runstop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#re-pairing-robot-joystick-that-won-t-connect">Re-pairing Robot Joystick that Won’t Connect</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="navigation.html">Tutorial: Navigation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="navigation.html#running-navigation-in-gazebo-simulation">Running Navigation in Gazebo Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html#running-navigation-on-a-real-robot">Running Navigation on a Real Robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html#building-a-map">Building A Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html#sending-waypoints">Sending Waypoints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manipulation.html">Tutorial: Manipulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#getting-started-demo">Getting Started Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#running-the-pick-and-place-demo">Running the Pick and Place Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#running-moveit-on-a-robot">Running MoveIt! on a Robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#simple-moveit-disco-example">Simple MoveIt! Disco Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#simple-moveit-wave-example">Simple MoveIt! Wave Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#more-information-and-tutorials-on-moveit">More information and Tutorials on MoveIt!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="perception.html">Tutorial: Perception</a><ul>
<li class="toctree-l2"><a class="reference internal" href="perception.html#head-camera-topics">Head Camera Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="perception.html#running-the-pick-and-place-demo">Running the Pick and Place Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docking.html">Tutorial: Auto Docking</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docking.html#installing-fetch-auto-dock">Installing fetch_auto_dock</a></li>
<li class="toctree-l2"><a class="reference internal" href="docking.html#running-the-docking-node">Running the Docking Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="docking.html#auto-docking-programmatically">Auto Docking Programmatically</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial: Calibrating Fetch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#understanding-calibration">Understanding Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calibrate-robot-tool">Calibrate Robot Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-calibration">Running Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="#calibrating-fetch-torso">Calibrating Fetch Torso</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#torso-calibration-procedure">Torso Calibration Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#verify-output">Verify Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#calibrate-output">Calibrate Output</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fetch_pbd.html">Tutorial: Fetch Programming by Demonstration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#installing-from-source">Installing from Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#running">Running</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#using-the-gui">Using the GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#code-interface">Code Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#system-overview">System Overview</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_overview.html">API Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#arm-and-torso">Arm and Torso</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#base-interface">Base Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#head-interface">Head Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#gripper-interface">Gripper Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#head-camera-interface">Head Camera Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#laser-interface">Laser Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#imu-interface">IMU Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#resetting-breakers">Resetting Breakers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#december-18-2017">December 18, 2017</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#november-29-2016">November 29, 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#may-28-2016">May 28, 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#january-21-2016">January 21, 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#november-23-2015">November 23, 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#november-12-2015">November 12, 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#august-5-2015">August 5, 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#july-9-2015">July 9, 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#june-8-2015">June 8, 2015</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-cite-fetch-or-freight-in-an-academic-paper">How can I cite Fetch or Freight in an Academic Paper?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-create-a-good-support-ticket">How do I create a good support ticket?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-won-t-my-robot-do-anything-at-all-charge-move-etc">Why won’t my robot do anything at all (charge, move, etc…)?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-won-t-my-robot-turn-on-when-i-push-the-power-button">Why won’t my robot turn on when I push the power button?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-won-t-my-robot-move-when-i-use-my-ps3-joystick">Why won’t my robot move when I use my PS3 joystick?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#the-robot-will-not-move-and-or-slows-down-near-obstacles-why">The robot will not move and/or slows down near obstacles, why?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#i-just-sent-a-trajectory-command-to-the-arm-and-now-it-won-t-gravity-compensate-help">I just sent a trajectory command to the arm and now it won’t gravity compensate, help?</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notices.html">Notices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notices.html#fcc-notice">FCC Notice</a></li>
<li class="toctree-l2"><a class="reference internal" href="notices.html#copyright-notices-for-open-source-software">Copyright Notices for Open Source Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="notices.html#trademarks">Trademarks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Fetch & Freight Research Edition</a>
      </nav>

      
      <div class="wy-nav-content">

        <div class="header-override">
          <p>
            <a href="http://www.fetchrobotics.com/research">Fetch & Freight</a><br/>
            <a href="http://www.fetchrobotics.com/blog">Blog</a>
          </p>
          <a href="http://www.fetchrobotics.com"><img src="_static/logo.png"></a>
        </div>

        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Tutorial: Calibrating Fetch</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/fetchrobotics/docs/blob/master/source/calibration.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial-calibrating-fetch">
<h1>Tutorial: Calibrating Fetch<a class="headerlink" href="#tutorial-calibrating-fetch" title="Permalink to this headline">¶</a></h1>
<p>Calibrating your Fetch Research Edition Robot is essential to getting
the best performance. Fetch Robotics recommends re-calibrating the robot
after every shipping or travel excursion your robot undertakes.</p>
<div class="section" id="understanding-calibration">
<h2>Understanding Calibration<a class="headerlink" href="#understanding-calibration" title="Permalink to this headline">¶</a></h2>
<p>The <cite>fetch_calibration</cite> package provides a method of making sure that the
hand-eye coordination of the robot is well calibrated. Calibration involves:</p>
<blockquote>
<div><ul class="simple">
<li>Moving the arm to a series of poses</li>
<li>At each pose, recording the joint_angles reported by the
drivers. Calibration then blinks the gripper LEDs several times to
find their pose in the camera frame and records it.</li>
<li>Performing a non-linear optimization which adjusts joint offsets and
the head camera pose to minimize the error between the expected pose of the
the LEDs based on projection of the kinematics of the arm and the actual
pose seen by the camera.</li>
<li>Updating the URDF and robot launch files with newly determined offsets.</li>
</ul>
</div></blockquote>
<p>The <a class="reference internal" href="computer.html#upstart-services"><span class="std std-ref">Upstart Services</span></a> that start the robot will use the launch
file in <cite>/etc/ros/indigo/robot.launch</cite>. Therefore, the last step in calibration
is to update that launch file and restart the drivers. Currently, the
following aspects are updated:</p>
<blockquote>
<div><ul class="simple">
<li>The URDF file is copied to /etc/ros/indigo, and the name of the file is put
into robot.launch. The calibration offsets are updated in the URDF file.</li>
<li>The camera calibration YAML files are copied to /etc/ros/indigo, and the
name of the files are put into robot.launch.</li>
<li>The head_camera driver has two parameters, z_offset_mm and z_scale which
are calibrated. Their updated values are stored in robot.launch.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="calibrate-robot-tool">
<h2>Calibrate Robot Tool<a class="headerlink" href="#calibrate-robot-tool" title="Permalink to this headline">¶</a></h2>
<p>The <cite>fetch_calibration</cite> package provides a tool called <cite>calibrate_robot</cite>
which fully automates tasks related to calibration. Once you have sourced
the ROS setup.bash, running <cite>calibrate_robot</cite> without any arguments will
show the list of valid arguments:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ calibrate_robot
usage: calibrate_robot [-h] [--arm] [--base] [--install] [--reset] [--restore]
                       [--date] [--directory DIRECTORY]

Calibrate the robot, update files in /etc/ros

optional arguments:
  -h, --help            show this help message and exit
  --arm                 Capture arm/head calibration data
  --base                Capture base calibration data
  --install             Install new calibration to /etc/ros (restarts drivers)
  --reset               Reset the calibration to factory defaults (restarts
                        drivers)
  --restore             Restore the previous calibration
  --date                Get the timestamp of the current calibration
  --directory DIRECTORY
                        Directory to load calibration from or backup to
</pre></div>
</div>
<p>A useful command to note is the <cite>–date</cite> option, which will return the date
that the current calibration was generated (or ‘uncalibrated’ if the robot
has not yet been calibrated):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ calibrate_robot --date
2015-06-06 23:20:18
</pre></div>
</div>
</div>
<div class="section" id="running-calibration">
<h2>Running Calibration<a class="headerlink" href="#running-calibration" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Calibration will cause the arm to move through the environment. Raise the
torso to full extension and be sure that the robot has at least 1 meter
of free space all around it.</p>
</div>
<p>The first step to calibrate the robot is to reset the calibration to factory
defaults:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ calibrate_robot --reset
</pre></div>
</div>
<p>This command might ask for your password, as it requires sudo to update the
files in /etc/ros/. This will also restart the drivers to
make the changes take effect.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When calibrating, make sure that no other applications are subscribed
to the head_camera topics. Other applications, even RVIZ, connecting
to the head_camera driver between the restart of drivers and the start
of calibration may adversely affect the auto_exposure settings of the
camera.</p>
</div>
<p>The robot is now ready to calibrate. The following command will move the arm
through a series of poses (about 100 poses) and upon completion of the calibration will update
the robot configuration in /etc/ros/indigo.  This typically takes about 10 minutes to complete:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ calibrate_robot --arm --install
</pre></div>
</div>
<p>Finally, after the new calibration has been installed into /etc/ros/indigo,
you can view the calibration by opening RVIZ and seeing that the robot model
overlaps with the point cloud from the head camera. If for some reason, the
calibration is not good, you can restart from the <cite>–reset</cite> command or roll
back to the previous calibration with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ calibrate_robot --restore
</pre></div>
</div>
</div>
<div class="section" id="calibrating-fetch-torso">
<span id="torso-calibration"></span><h2>Calibrating Fetch Torso<a class="headerlink" href="#calibrating-fetch-torso" title="Permalink to this headline">¶</a></h2>
<p>When the torso controller board is first powered, it uses measurements from two different
position sensors to determine the absolute starting position of the torso.
Once the absolute starting position of the torso is determined, the position measurement
will retain millimeter precision as long torso remains powered.</p>
<p>To work properly, the two torso sensors must be calibrated together.
If the sensors are not properly calibrated, the calculation of the initial torso position
could be incorrect in some situations. This problem is more likely to occur if the torso is
first powered when in the “up” position.
A bad torso position should be easy to detect when using RVIZ since the torso position
shown in RVIZ will always be more than +/-10cm different than the true torso position.</p>
<p>The torso sensors are calibrated in production, so they will not usually need
to be recalibrated.  If there seems to be a torso positioning problem,
the torso calibration tool should be first used to verify the calibration of the torso.</p>
<p>In release 0.7.4 of fetch_drivers package there is a tool
to verify or calibrate the torso sensors.
The tool has two options: verify and calibrate.
The verify option will only verify that the calibration is good,
it will not change any stored calibration parameters.
The calibrate option will calibrate the sensors and update the parameters
stored on the torso controller.</p>
<p>For both options, the torso will travel through its entire range of
motion while sensor data is collected.  While the tool is being run,
the robot drivers will be stopped and the robot arm will not hold its position.
Because of this, the arm should be tucked or soft fabric or cardboard
should be placed between arm and base to avoid scratching any covers.</p>
<div class="section" id="torso-calibration-procedure">
<h3>Torso Calibration Procedure<a class="headerlink" href="#torso-calibration-procedure" title="Permalink to this headline">¶</a></h3>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">During torso calibration the arm will not hold position.
Place cardboard or soft fabric between arm and base to avoid
scratching covers during data collection.</p>
</div>
<p>Follow these steps in order to verify or calibrate the torso position
sensors:</p>
<ol class="arabic simple">
<li>Move torso to lowest position, and tuck the arm.</li>
<li>Place a protective barrier between the arm and top base cover.</li>
<li>Disable robot drivers by running : <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">robot</span> <span class="pre">stop</span></code></li>
<li>Run torso calibration tool:</li>
</ol>
<blockquote>
<div><ul class="simple">
<li>To run calibration : <code class="docutils literal notranslate"><span class="pre">rosrun</span> <span class="pre">fetch_drivers</span> <span class="pre">torso_calibrate</span> <span class="pre">calibrate</span></code></li>
<li><strong>OR</strong> to verify calibration : <code class="docutils literal notranslate"><span class="pre">rosrun</span> <span class="pre">fetch_drivers</span> <span class="pre">torso_calibrate</span> <span class="pre">verify</span></code></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="6">
<li>Wait for torso to collect sensor data.  The torso will move upwards in small increments through the entire range of motion.  A clicking sound will be produced by the torso while moving, and is normal.</li>
<li>Cycle Run-stop (optional).  Sometimes tool will request that run-stop be cycled
after it completes.  Cycling run-stop will cycle power to the torso controller board,
and is required in some situations.</li>
<li>Once tool has completed, restart robot drivers with <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">service</span> <span class="pre">robot</span> <span class="pre">start</span></code></li>
</ol>
</div>
<div class="section" id="verify-output">
<h3>Verify Output<a class="headerlink" href="#verify-output" title="Permalink to this headline">¶</a></h3>
<p>Verification will produce output stating whether sensors are well calibrated.
If the sensor calibration is good the tool will output something similar to:</p>
<blockquote>
<div>VERIFY PASSED : max sensor error of 0.0109411 is within acceptable limit</div></blockquote>
<p>Otherwise it will produce output like:</p>
<blockquote>
<div>VERIFY FAILED : max sensor error of 0.0501323 is larger than acceptable limit of 0.04</div></blockquote>
<p>When verification fails, run calibration produce.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The value for max sensor error is the mismatch between the two torso sensors.
The accuracy of the torso position measurement is unrelated to this value.</p>
</div>
</div>
<div class="section" id="calibrate-output">
<h3>Calibrate Output<a class="headerlink" href="#calibrate-output" title="Permalink to this headline">¶</a></h3>
<p>Once the tool has completed the calibration procedure it will check the expected results of calibration.
If everything checks out, the tool will output something similar to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VERIFY</span> <span class="n">PASSED</span> <span class="p">:</span> <span class="nb">max</span> <span class="n">sensor</span> <span class="n">error</span> <span class="n">of</span> <span class="mf">0.0116824</span> <span class="ow">is</span> <span class="n">within</span> <span class="n">acceptable</span> <span class="n">limit</span>
</pre></div>
</div>
<p>If there was a problem calculating good calibration parameters, the output might look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VERIFY</span> <span class="n">FAILED</span> <span class="p">:</span> <span class="nb">max</span> <span class="n">sensor</span> <span class="n">error</span> <span class="n">of</span> <span class="mf">0.0501323</span> <span class="ow">is</span> <span class="n">larger</span> <span class="n">than</span> <span class="n">acceptable</span> <span class="n">limit</span> <span class="n">of</span> <span class="mf">0.04</span>
</pre></div>
</div>
<p>In case of failure, the torso sensor may be malfunctioning or damaged and a support ticket should be created.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="fetch_pbd.html" class="btn btn-neutral float-right" title="Tutorial: Fetch Programming by Demonstration" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="docking.html" class="btn btn-neutral" title="Tutorial: Auto Docking" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2016, Fetch Robotics Inc.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'Indigo',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>