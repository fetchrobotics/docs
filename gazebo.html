

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial: Gazebo Simulation &mdash; Fetch &amp; Freight Research Edition Melodic documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Fetch &amp; Freight Research Edition Melodic documentation" href="index.html"/>
        <link rel="next" title="Tutorial: Robot Teleop" href="teleop.html"/>
        <link rel="prev" title="Tutorial: Visualization" href="visualization.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="index.html" class="icon icon-home">
        

          Fetch & Freight <br/> Research Edition

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="introduction.html#before-you-start">Before you Start</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="safety.html">Safety</a><ul>
<li class="toctree-l2"><a class="reference internal" href="safety.html#safety-overview">Safety Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="safety.html#design-features">Design Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="safety.html#general-usage-guidelines">General Usage Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="safety.html#warning-labels">Warning Labels</a><ul>
<li class="toctree-l3"><a class="reference internal" href="safety.html#pinch-point">Pinch Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="safety.html#electrical-shock">Electrical Shock</a></li>
<li class="toctree-l3"><a class="reference internal" href="safety.html#laser-beam">Laser Beam</a></li>
<li class="toctree-l3"><a class="reference internal" href="safety.html#read-the-manual">Read The Manual</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="in_the_box.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="in_the_box.html#what-s-in-box">What’s In Box</a><ul>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#fetch-and-freight">Fetch and Freight</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#toolkit">Toolkit</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#robot-power-supply">Robot Power Supply</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="in_the_box.html#running-fetch-and-freight">Running Fetch and Freight</a><ul>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#turning-on-fetch-and-freight">Turning on Fetch and Freight</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#logging-in">Logging In</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#connecting-a-monitor-optional">Connecting a Monitor (Optional)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#default-user-account">Default User Account</a></li>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#creating-user-accounts">Creating User Accounts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#tucking-fetch-s-arm">Tucking Fetch’s Arm</a></li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#driving-fetch-and-freight-with-a-joystick">Driving Fetch and Freight with a Joystick</a><ul>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#moving-the-base-with-your-keyboard">Moving the Base with your Keyboard</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#visualizing-data">Visualizing Data</a><ul>
<li class="toctree-l4"><a class="reference internal" href="in_the_box.html#using-the-runtime-monitor">Using the Runtime Monitor</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="in_the_box.html#putting-fetch-and-freight-away">Putting Fetch and Freight Away</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="robot_hardware.html">Robot Hardware Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#mechanism-terminology">Mechanism Terminology</a><ul>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#link">Link</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#frame">Frame</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#joint">Joint</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#fetch-home-pose">Fetch Home Pose</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#coordinate-system">Coordinate System</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#naming-conventions">Naming Conventions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#mechanical-overview">Mechanical Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#environmental">Environmental</a><ul>
<li class="toctree-l4"><a class="reference internal" href="robot_hardware.html#drive-surface">Drive Surface</a></li>
<li class="toctree-l4"><a class="reference internal" href="robot_hardware.html#incline-surface">Incline Surface</a></li>
<li class="toctree-l4"><a class="reference internal" href="robot_hardware.html#water">Water</a></li>
<li class="toctree-l4"><a class="reference internal" href="robot_hardware.html#temperature-and-humidity">Temperature and Humidity</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#forces-and-torques">Forces and Torques</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#joint-limits-and-types">Joint Limits and Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#mount-points">Mount Points</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#gripper-modularity-interface">Gripper Modularity Interface</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#electrical-overview">Electrical Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#breakers">Breakers</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#power-disconnect-switch">Power Disconnect Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#runstop">Runstop</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#access-panel">Access Panel</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#freight-extensibility-interfaces">Freight Extensibility Interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#motion-control">Motion Control</a></li>
<li class="toctree-l2"><a class="reference internal" href="robot_hardware.html#sensor-overview">Sensor Overview</a><ul>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#base-laser">Base Laser</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#imu">IMU</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#head-camera">Head Camera</a></li>
<li class="toctree-l3"><a class="reference internal" href="robot_hardware.html#gripper-sensors">Gripper Sensors</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="computer.html">Computer Overview and Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="computer.html#default-user-account">Default User Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#creating-user-accounts">Creating User Accounts</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#networking">Networking</a><ul>
<li class="toctree-l3"><a class="reference internal" href="computer.html#connecting-the-robot-to-a-wireless-network">Connecting the Robot to a Wireless Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="computer.html#configuring-the-robot-to-use-a-static-ip-for-access-panel-ethernet">Configuring the Robot to use a Static IP for Access Panel Ethernet</a></li>
<li class="toctree-l3"><a class="reference internal" href="computer.html#troubleshooting-ros-interactions-with-robot-across-a-network">Troubleshooting ROS Interactions with Robot Across a Network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#clock-synchronization">Clock Synchronization</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#upstart-services">Upstart Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#log-files">Log Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="computer.html#speakers-and-audio">Speakers and Audio</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="care_and_feeding.html">Care And Feeding</a><ul>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#charging">Charging</a></li>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#batteries">Batteries</a></li>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#updating-your-robot">Updating Your Robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#re-setting-up-apt-sources">Re-Setting up apt Sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="care_and_feeding.html#cleaning-your-robot">Cleaning Your Robot</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="indigo_to_melodic.html">ROS Melodic + Ubuntu 18.04</a><ul>
<li class="toctree-l2"><a class="reference internal" href="indigo_to_melodic.html#known-issues">Known issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="indigo_to_melodic.html#upgrading-your-robot-to-ros-melodic-ubuntu-18-04">Upgrading Your Robot to ROS Melodic + Ubuntu 18.04</a><ul>
<li class="toctree-l3"><a class="reference internal" href="indigo_to_melodic.html#before-upgrade">Before Upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="indigo_to_melodic.html#automated-installer-18-04-and-ros-melodic-install">AUTOMATED INSTALLER: 18.04 and ROS Melodic Install</a></li>
<li class="toctree-l3"><a class="reference internal" href="indigo_to_melodic.html#manual-approach-18-04-install-and-installing-ros-fetch-packages">MANUAL APPROACH: 18.04 Install and Installing ROS/Fetch Packages</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="indigo_to_melodic.html#post-install-validation">Post-install Validation</a></li>
<li class="toctree-l2"><a class="reference internal" href="indigo_to_melodic.html#compatibility-of-other-computers-used-with-the-robot">Compatibility of Other Computers Used with the Robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="indigo_to_melodic.html#not-supported-upgrading-from-14-04-to-18-04-via-16-04">Not Supported: Upgrading from 14.04 to 18.04 (via 16.04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="indigo_to_melodic.html#appendices">Appendices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="indigo_to_melodic.html#subsequent-upgrade-notes">Subsequent upgrade notes</a></li>
<li class="toctree-l3"><a class="reference internal" href="indigo_to_melodic.html#accessing-boot-menu-on-fetch-robots">Accessing Boot Menu on Fetch Robots</a></li>
<li class="toctree-l3"><a class="reference internal" href="indigo_to_melodic.html#disk-filling-issue">Disk filling issue</a></li>
<li class="toctree-l3"><a class="reference internal" href="indigo_to_melodic.html#ensuring-robot-s-ethernet-ports-are-configured-correctly">Ensuring robot’s ethernet ports are configured correctly</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Tutorial: Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#visualizing-with-rviz">Visualizing with RVIZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="visualization.html#using-the-runtime-monitor">Using the Runtime Monitor</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tutorial: Gazebo Simulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#starting-the-simulator">Starting the Simulator</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulating-a-freight">Simulating a Freight</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualizing-with-rviz">Visualizing with RVIZ</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-mobile-manipulation-demo">Running the Mobile Manipulation Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#launch-it-on-rosds">Launch it on ROSDS</a></li>
<li class="toctree-l2"><a class="reference internal" href="#simulation-vs-real-robots">Simulation vs. Real Robots</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="teleop.html">Tutorial: Robot Teleop</a><ul>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#using-the-robot-joystick">Using the Robot Joystick</a></li>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#moving-the-base-with-your-keyboard">Moving the Base with your Keyboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#id1">Software Runstop</a><ul>
<li class="toctree-l3"><a class="reference internal" href="teleop.html#using-software-runstop">Using Software Runstop</a></li>
<li class="toctree-l3"><a class="reference internal" href="teleop.html#enable-teleop-software-runstop">Enable Teleop Software Runstop</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#re-pairing-robot-joystick-that-won-t-connect">Re-pairing Robot Joystick that Won’t Connect</a></li>
<li class="toctree-l2"><a class="reference internal" href="teleop.html#using-deadzone-parameter-to-correct-drift">Using Deadzone Parameter to Correct Drift</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="navigation.html">Tutorial: Navigation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="navigation.html#running-navigation-in-gazebo-simulation">Running Navigation in Gazebo Simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html#running-navigation-on-a-real-robot">Running Navigation on a Real Robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html#building-a-map">Building A Map</a></li>
<li class="toctree-l2"><a class="reference internal" href="navigation.html#sending-waypoints">Sending Waypoints</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="manipulation.html">Tutorial: Manipulation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#getting-started-demo">Getting Started Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#running-the-pick-and-place-demo">Running the Pick and Place Demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#running-moveit-on-a-robot">Running MoveIt! on a Robot</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#simple-moveit-disco-example">Simple MoveIt! Disco Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#simple-moveit-wave-example">Simple MoveIt! Wave Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="manipulation.html#more-information-and-tutorials-on-moveit">More information and Tutorials on MoveIt!</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="perception.html">Tutorial: Perception</a><ul>
<li class="toctree-l2"><a class="reference internal" href="perception.html#head-camera-topics">Head Camera Topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="perception.html#running-the-pick-and-place-demo">Running the Pick and Place Demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docking.html">Tutorial: Auto Docking</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docking.html#installing-fetch-auto-dock">Installing fetch_auto_dock</a></li>
<li class="toctree-l2"><a class="reference internal" href="docking.html#running-the-docking-node">Running the Docking Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="docking.html#auto-docking-programmatically">Auto Docking Programmatically</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="calibration.html">Tutorial: Calibrating Fetch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="calibration.html#understanding-calibration">Understanding Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="calibration.html#calibrate-robot-tool">Calibrate Robot Tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="calibration.html#running-calibration">Running Calibration</a></li>
<li class="toctree-l2"><a class="reference internal" href="calibration.html#calibrating-fetch-torso">Calibrating Fetch Torso</a><ul>
<li class="toctree-l3"><a class="reference internal" href="calibration.html#torso-calibration-procedure">Torso Calibration Procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="calibration.html#calibration-output">Calibration Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="calibration.html#output-when-verifying-new-torso-calibration">Output When Verifying New Torso Calibration</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="fetch_pbd.html">Tutorial: Fetch Programming by Demonstration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#system-requirements">System Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#installing-from-source">Installing from Source</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#running">Running</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#using-the-gui">Using the GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#code-interface">Code Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="fetch_pbd.html#system-overview">System Overview</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_overview.html">API Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#arm-and-torso">Arm and Torso</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#base-interface">Base Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#head-interface">Head Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#gripper-interface">Gripper Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#head-camera-interface">Head Camera Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#laser-interface">Laser Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#imu-interface">IMU Interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="api_overview.html#resetting-breakers">Resetting Breakers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#september-10-2019">September 10, 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#august-9-2019">August 9, 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#april-4-2019">April 4, 2019</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#december-18-2017">December 18, 2017</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#november-29-2016">November 29, 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#may-28-2016">May 28, 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#january-21-2016">January 21, 2016</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#november-23-2015">November 23, 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#november-12-2015">November 12, 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#august-5-2015">August 5, 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#july-9-2015">July 9, 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="release_notes.html#june-8-2015">June 8, 2015</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-can-i-cite-fetch-or-freight-in-an-academic-paper">How can I cite Fetch or Freight in an Academic Paper?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-won-t-my-robot-do-anything-at-all-charge-move-etc">Why won’t my robot do anything at all (charge, move, etc…)?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-won-t-my-robot-turn-on-when-i-push-the-power-button">Why won’t my robot turn on when I push the power button?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-won-t-my-robot-move-when-i-use-my-ps3-ps4-joystick">Why won’t my robot move when I use my PS3/PS4 joystick?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#the-robot-will-not-move-and-or-slows-down-near-obstacles-why">The robot will not move and/or slows down near obstacles, why?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#i-just-sent-a-trajectory-command-to-the-arm-and-now-it-won-t-gravity-compensate-help">I just sent a trajectory command to the arm and now it won’t gravity compensate, help?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="support.html">Issues and Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="support.html#when-you-encounter-an-issue">When you encounter an issue</a></li>
<li class="toctree-l2"><a class="reference internal" href="support.html#reporting-software-bugs">Reporting software bugs</a></li>
<li class="toctree-l2"><a class="reference internal" href="support.html#contacting-fetch-support">Contacting Fetch Support</a><ul>
<li class="toctree-l3"><a class="reference internal" href="support.html#reaching-fetch-support">Reaching Fetch Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="support.html#how-do-i-create-a-good-support-ticket">How do I create a good support ticket?</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notices.html">Notices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="notices.html#fcc-notice">FCC Notice</a></li>
<li class="toctree-l2"><a class="reference internal" href="notices.html#copyright-notices-for-open-source-software">Copyright Notices for Open Source Software</a></li>
<li class="toctree-l2"><a class="reference internal" href="notices.html#trademarks">Trademarks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Fetch & Freight Research Edition</a>
      </nav>

      
      <div class="wy-nav-content">

        <div class="header-override">
          <p>
            <a href="http://www.fetchrobotics.com/research">Fetch & Freight</a><br/>
            <a href="http://www.fetchrobotics.com/blog">Blog</a>
          </p>
          <a href="http://www.fetchrobotics.com"><img src="_static/logo.png"></a>
        </div>

        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Tutorial: Gazebo Simulation</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/fetchrobotics/docs/blob/master/source/gazebo.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial-gazebo-simulation">
<h1>Tutorial: Gazebo Simulation<a class="headerlink" href="#tutorial-gazebo-simulation" title="Permalink to this headline">¶</a></h1>
<p>Fetch and Freight have simulated counterparts using the
<a class="reference external" href="http://gazebosim.org">Gazebo Simulator</a> which you can install locally on
your system.</p>
<p>The Construct Sim provides a way to simulate a Fetch in Gazebo via
<em>their cloud service</em> using a single
<a class="reference external" href="https://rds.theconstructsim.com/tc_projects/use_project_share_link/4ba9621c-e546-4353-848e-dc7326c8e467">ROSJect link</a> in case you
want to avoid the installation process.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Before installing the simulation environment, make sure your desktop
is setup with a standard installation of
<a class="reference external" href="http://wiki.ros.org/indigo/Installation/Ubuntu">ROS Indigo on Ubuntu 14.04</a> or
<a class="reference external" href="http://wiki.ros.org/melodic/Installation/Ubuntu">ROS Melodic on Ubuntu 18.04</a>.
Once your APT repositories are configured, you can install the simulator:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ sudo apt-get update
&gt;$ sudo apt-get install ros-$ROS_DISTRO-fetch-gazebo-demo
</pre></div>
</div>
</div>
<div class="section" id="starting-the-simulator">
<h2>Starting the Simulator<a class="headerlink" href="#starting-the-simulator" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Never run the simulator on the robot. Simulation requires that
the ROS parameter use_sim_time be set to true, which will cause
the robot drivers to stop working correctly. In addition, be sure
to never start the simulator in a terminal that has the ROS_MASTER_URI
set to your robot for the same reasons.</p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">fetch_gazebo</span></code> and <code class="docutils literal notranslate"><span class="pre">fetch_gazebo_demo</span></code> packages provide the Gazebo
environment for Fetch. <code class="docutils literal notranslate"><span class="pre">fetch_gazebo</span></code> includes several launch files:</p>
<blockquote>
<div><ul class="simple">
<li><p>simulation.launch spawns a robot in an empty world.</p></li>
<li><p>playground.launch spawns a robot inside a lab-like test environment.
This environment has some tables with items that may be picked up
and manipulated. It also has a pre-made map which can be used to
test out robot navigation and some simple demonstrations of object
grasping.</p></li>
</ul>
</div></blockquote>
<p>To start the simplest environment:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ roslaunch fetch_gazebo simulation.launch
</pre></div>
</div>
<div class="align-centered figure align-center">
<a class="reference internal image-reference" href="_images/gazebo.png"><img alt="_images/gazebo.png" src="_images/gazebo.png" style="width: 100%;" /></a>
</div>
<p>Note that all of the environments will prepare the robot by tucking the
arm and giving the head an initial command.</p>
</div>
<div class="section" id="simulating-a-freight">
<h2>Simulating a Freight<a class="headerlink" href="#simulating-a-freight" title="Permalink to this headline">¶</a></h2>
<p>Freight uses the same launch files as Fetch, simply pass the robot argument:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ roslaunch fetch_gazebo simulation.launch robot:=freight
</pre></div>
</div>
</div>
<div class="section" id="visualizing-with-rviz">
<h2>Visualizing with RVIZ<a class="headerlink" href="#visualizing-with-rviz" title="Permalink to this headline">¶</a></h2>
<p>Even though Gazebo has a graphical visualization, RVIZ is still the preferred
tool for interacting with your robot.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ export ROS_MASTER_URI=http://&lt;robot_name_or_ip&gt;:11311
&gt;$ rosrun rviz rviz
</pre></div>
</div>
<div class="align-centered figure align-center">
<a class="reference internal image-reference" href="_images/rviz.png"><img alt="_images/rviz.png" src="_images/rviz.png" style="width: 100%;" /></a>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>You will need a computer with ROS installed to properly
communicate with the robot. Please consult the <a class="reference external" href="http://wiki.ros.org/melodic/Installation">ROS Wiki</a>
for more information. We strongly suggest an Ubuntu machine
with ROS Melodic installed.</p>
</div>
<p>You can now <a class="reference external" href="http://gazebosim.org/tutorials?tut=drcsim_visualization&amp;cat=drcsim#VisualizingtheRobotmodel">manually set up your RVIZ visualization</a>
or re-run RVIZ with a configuration file using the command line.
The default <code class="docutils literal notranslate"><span class="pre">.rviz</span></code> configuration file for Fetch can be loaded using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ roscd fetch_navigation/config
&gt;$ export ROS_MASTER_URI=http://&lt;robot_name_or_ip&gt;:11311
&gt;$ rviz -d navigation.rviz
</pre></div>
</div>
<div class="align-centered figure align-center">
<a class="reference internal image-reference" href="_images/rviz_navigation.png"><img alt="_images/rviz_navigation.png" src="_images/rviz_navigation.png" style="width: 100%;" /></a>
</div>
</div>
<div class="section" id="running-the-mobile-manipulation-demo">
<span id="mm-demo"></span><h2>Running the Mobile Manipulation Demo<a class="headerlink" href="#running-the-mobile-manipulation-demo" title="Permalink to this headline">¶</a></h2>
<p>There is a fully integrated demo showing navigation, perception
and MoveIt! working together on the robot in simulation. To run the
demo, start Gazebo simulator with the playground:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ roslaunch fetch_gazebo playground.launch
</pre></div>
</div>
<p>Wait until the simulator is fully running and then run the demo
launch file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;$ roslaunch fetch_gazebo_demo demo.launch
</pre></div>
</div>
<p>This will start:</p>
<blockquote>
<div><ul class="simple">
<li><p>fetch_nav.launch - this is the navigation stack with a pre-built map of
the environment.</p></li>
<li><p>move_group.launch - this is the MoveIt configuration which can plan for
the movement of the arm.</p></li>
<li><p>basic_grasping_perception - this is a simple demo found in the
<code class="docutils literal notranslate"><span class="pre">simple_grasping</span></code> package which segments objects on tables and computes
grasps for them.</p></li>
<li><p>demo.py - this our specific demo which navigates the robot from the
starting pose in Gazebo to the table, raises the torso, lowers the head
to look at the table, and then runs perception to generate a goal for
MoveIt. The arm will then grasp the cube on the table, tuck the arm and
lower the torso. Once the robot is back in this tucked configuration,
the navigation stack will be once again called to navigate into the room
with the countertop where the robot will place the cube on the other
table.</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="launch-it-on-rosds">
<h2>Launch it on ROSDS<a class="headerlink" href="#launch-it-on-rosds" title="Permalink to this headline">¶</a></h2>
<div class="align-centered figure align-center">
<a class="reference internal image-reference" href="_images/rosds.png"><img alt="_images/rosds.png" src="_images/rosds.png" style="width: 100%;" /></a>
</div>
<p>As mentioned beforehand, you can run the whole simulation on the
<a class="reference external" href="http://www.theconstructsim.com/rds-ros-development-studio/">ROS Development Studio</a>,
by The Construct, with a single click. The advantages include:</p>
<blockquote>
<div><ul class="simple">
<li><p>No installation required</p></li>
<li><p>Any operating system can be used to program Fetch robots with ROS</p></li>
<li><p>You can start testing and programming Fetch robots in 30 seconds!</p></li>
</ul>
</div></blockquote>
<p>In case you want to try it, you can just press the <strong>Run on ROSDS</strong> button
to start:</p>
<div class="figure align-default">
<a class="reference external image-reference" href="https://rds.theconstructsim.com/tc_projects/use_project_share_link/4ba9621c-e546-4353-848e-dc7326c8e467"><img alt="_images/run_on_rosds.png" src="_images/run_on_rosds.png" style="width: 200px;" /></a>
</div>
</div>
<div class="section" id="simulation-vs-real-robots">
<h2>Simulation vs. Real Robots<a class="headerlink" href="#simulation-vs-real-robots" title="Permalink to this headline">¶</a></h2>
<p>The simulated robot may not be identical to the real robot. In fact, the
real robot is likely quite a bit better behaved. Also:</p>
<blockquote>
<div><ul class="simple">
<li><p>The simulator does not include the IMU. Therefore, there is also no
base odometry fusion with IMU data, and the base_controller directly
publishes all required TF data directly.</p></li>
<li><p>The simulated robot does not have the head_camera/depth/* topics due
to limitations within the Gazebo plugins.</p></li>
<li><p>The simulated robot arm is not as well tuned as the real robot. The real
arm will not wobble the way the simulated arm does when executing a
trajectory. The simulated robot has also not been tuned with various
payloads. It is best used for examining the workspace of the robot,
and not the actual controls-related performance of the arm.</p></li>
<li><p>The fingers of the real robot gripper are driven by the same leadscrew,
so the object will always be grasped in the center of the gripper. With
the simulated robot, the fingers are independently actuated, and so the
object may drift to one side.</p></li>
</ul>
</div></blockquote>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="teleop.html" class="btn btn-neutral float-right" title="Tutorial: Robot Teleop" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="visualization.html" class="btn btn-neutral" title="Tutorial: Visualization" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014-2019, Fetch Robotics Inc.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'Melodic',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/documentation_options.js"></script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>